

import org.springframework.web.bind.annotation.*;

@RestController
@RequestMapping(path= "/facility")
public class FacilityController {
    private FacilityRepository facilityRepository;

    @PostMapping(path = "/add")
    public @ResponseBody
    String addNewUser(@RequestBody FacilityDTO facilityDTO) {
        Facility facility = new Facility();
        facility.setFacilityName(facilityDTO.getFacilityName());
        facility.setFacilitylype(facilityDTO.getFacilitylype());
        facility.setDateTime(facilityDTO.getDateTime());
        facility.setReferredBy(facilityDTO.getReferredBy());
        facility.setDeposit(facilityDTO.getDeposit());
        facilityRepository.save(facility);
        return "Facility Created";
    }

    @GetMapping(path = "/all")
    public @ResponseBody
    Iterable<Facility> getAllUsers() {
        return facilityRepository.findAll();
    }
}
